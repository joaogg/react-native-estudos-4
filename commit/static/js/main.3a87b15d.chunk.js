(this.webpackJsonpcrud=this.webpackJsonpcrud||[]).push([[0],{22:function(e,a,t){},34:function(e,a,t){e.exports=t(55)},39:function(e,a,t){},55:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(32),r=t.n(c),s=(t(39),t(14)),o=t(15),i=t(11),m=t(17),u=t(16),d=(t(22),t(13)),f=t(7),b=t(23),h=function(e){var a={fullName:"",mobile:"",email:"",address:""},t=Object(n.useState)(a),c=Object(f.a)(t,2),r=c[0],s=c[1];Object(n.useEffect)((function(){""==e.currentId?s(Object(d.a)({},a)):s(Object(d.a)({},e.contactObjects[e.currentId]))}),[e.currentId,e.contactObjects]);var o=function(e){var a=e.target,t=a.name,n=a.value;s(Object(d.a)(Object(d.a)({},r),{},Object(b.a)({},t,n)))};return l.a.createElement("form",{autoComplete:"off",onSubmit:function(a){a.preventDefault(),e.addOrEdit(r)}},l.a.createElement("div",{className:"form-group input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-user"}))),l.a.createElement("input",{className:"form-control",name:"fullName",placeholder:"Full Name",value:r.fullName,onChange:o})),l.a.createElement("div",{className:"form-row"},l.a.createElement("div",{className:"form-group input-group col-md-6"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-mobile-alt"}))),l.a.createElement("input",{className:"form-control",name:"mobile",placeholder:"Mobile",value:r.mobile,onChange:o})),l.a.createElement("div",{className:"form-group input-group col-md-6"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("div",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-envelope"}))),l.a.createElement("input",{className:"form-control",name:"email",placeholder:"Email",value:r.email,onChange:o}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",name:"address",placeholder:"Address",value:r.address,onChange:o})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"submit",value:""==e.currentId?"Save":"Update",className:"btn btn-primary btn-block"})))},v=t(3),E=t.n(v),p=E.a.initializeApp({apiKey:"AIzaSyAzLJlEdsMjefcneqLdFm_-yWetE_Uvn9A",authDomain:"crud-fa7ee.firebaseapp.com",databaseURL:"https://crud-fa7ee.firebaseio.com",projectId:"crud-fa7ee",storageBucket:"crud-fa7ee.appspot.com",messagingSenderId:"954386397450",appId:"1:954386397450:web:dc0a41fe87353befb862f3",measurementId:"G-PWJPYJMQE3"}),g=function(){var e=Object(n.useState)(""),a=Object(f.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)({}),s=Object(f.a)(r,2),o=s[0],i=s[1];Object(n.useEffect)((function(){p.database().ref().child("contacts").on("value",(function(e){null!=e.val()&&i(Object(d.a)({},e.val()))}))}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-5"},l.a.createElement(h,{currentId:t,contactObjects:o,addOrEdit:function(e){""==t?p.database().ref().child("contacts").push(e,(function(e){e?console.log(e):c("")})):p.database().ref().child("contacts/".concat(t)).set(e,(function(e){e?console.log(e):c("")}))}})),l.a.createElement("div",{className:"col-md-7"},l.a.createElement("table",{className:"table table-borderless table-stripped"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Mobile"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,Object.keys(o).map((function(e){return l.a.createElement("tr",{key:e},l.a.createElement("td",null,o[e].fullName),l.a.createElement("td",null,o[e].mobile),l.a.createElement("td",null,o[e].email),l.a.createElement("td",{className:"bg-light"},l.a.createElement("a",{className:"btn text-primary",onClick:function(){c(e)}},l.a.createElement("i",{className:"fas fa-pencil-alt"})),l.a.createElement("a",{className:"btn text-danger",onClick:function(){var a;a=e,window.confirm("asmdkdsm?")&&p.database().ref().child("contacts/".concat(a)).remove((function(e){e?console.log(e):c("")}))}},l.a.createElement("i",{className:"far fa-trash-alt"}))))})))))))};var O=function(){return l.a.createElement("div",{className:"col-md-12"},'P\xe1gina "Sobre"...')};var j=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).login=n.login.bind(Object(i.a)(n)),n.handleChange=n.handleChange.bind(Object(i.a)(n)),n.signup=n.signup.bind(Object(i.a)(n)),n.state={email:"",password:""},n}return Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){e.preventDefault(),p.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){console.log(e),window.location="/Perfil"})).catch((function(e){console.log(e)}))}},{key:"signup",value:function(e){e.preventDefault(),p.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-4 offset-md-4"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{for:"exampleInputEmail1"},"E-mail:"),l.a.createElement("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})),l.a.createElement("div",{class:"form-group"},l.a.createElement("label",{for:"exampleInputPassword1"},"Senha:"),l.a.createElement("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),l.a.createElement("button",{type:"submit",onClick:this.login,class:"btn btn-primary"},"Acessar"),l.a.createElement("button",{onClick:this.signup,style:{marginLeft:"25px"},className:"btn btn-success"},"Cadastrar-se")))}}]),t}(n.Component),N=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).onChangeText=function(e){n.setState({text:e.target.value})},n.onCreateMessage=function(e){console.log("???"),E.a.database().ref().child("users").push({date_of_birth:n.state.text,full_name:"Alan Turing"}),n.setState({text:""}),E.a.database().ref().child("users").once("value",(function(e){e.forEach((function(e){e.key,e.val();console.log(e.val().full_name)}))})),e.preventDefault()},n.state={text:"",loading:!1,messages:[],testList:[]},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.a.database().ref().child("users").on("value",(function(a){console.log("putamadre"+a),a.forEach((function(a){Object.values(a);console.log("kkk "+a.val()),e.setState({testList:a});a.key,a.val()}))}))}},{key:"render",value:function(){return console.log("q poha "+this.state.testList),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:this.onCreateMessage},l.a.createElement("input",{type:"text",value:this.text,onChange:this.onChangeText}),l.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Send")),this.state.testList.forEach((function(e){return l.a.createElement("p",null,e,"asmdk")})))}}]),t}(n.Component),C=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(s.a)(this,t),(e=a.call(this)).state={email:"",uid:"",password:"",triste:""},e.authListener=e.authListener.bind(Object(i.a)(e)),e.signOut=e.signOut.bind(Object(i.a)(e)),e.xd=e.xd.bind(Object(i.a)(e)),e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e;this.authListener(),E.a.database().ref("contacts").on("child_added",(function(a){e=a.numChildren().toString(),console.log(a.numChildren()),console.log("asdm "+e)}));var a=E.a.database().ref("contacts").once("value").then((function(e){return e}));console.log("tnc = "+a)}},{key:"xd",value:function(){E.a.database().ref("contacts").once("value").then((function(e){return e.numChildren()}))}},{key:"authListener",value:function(){var e=this;E.a.auth().onAuthStateChanged((function(a){null!=(a=E.a.auth().currentUser)&&(a.displayName,a.email,a.photoURL,a.emailVerified,a.uid,console.log(a.email),e.state.email=a.email,e.state.uid=a.uid),a?(e.setState({user:a}),localStorage.setItem("user",a.uid)):(e.setState({user:null}),localStorage.removeItem("user"))}))}},{key:"signOut",value:function(){E.a.auth().signOut().then((function(){window.location="/Login"})).catch((function(e){}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"col-md-12"},l.a.createElement("h2",null,"Nome: ",this.state.email,"."),l.a.createElement("h2",null,"ID: ",this.state.uid,"."),l.a.createElement("h2",null,"COUNT: ",this.state.triste,"."),l.a.createElement("button",{onClick:this.signOut,style:{marginLeft:"25px"},className:"btn btn-success"},"SignOut"))}}]),t}(n.Component),k=t(20),y=function(){var e=Object(n.useState)(""),a=Object(f.a)(e,2),t=(a[0],a[1]),c=Object(n.useState)({}),r=Object(f.a)(c,2),s=r[0],o=r[1];Object(n.useEffect)((function(){E.a.database().ref().child("users").on("value",(function(e){null!=e.val()&&o(Object(d.a)({},e.val()))}))}),[]);return l.a.createElement("div",null,Object.keys(s).map((function(e){return l.a.createElement("ul",{key:e},l.a.createElement("li",{key:e},l.a.createElement("div",null,s[e].full_name," -",l.a.createElement(k.b,{to:"/user/".concat(e)},"ver"),l.a.createElement("a",{className:"btn text-danger",onClick:function(){var a;a=e,window.confirm("asmdkdsm?")&&E.a.database().ref().child("users/".concat(a)).remove((function(e){e?console.log(e):t("")}))}},"deletar"))))})))},S=t(4),w=function(){var e=Object(S.f)().id,a=Object(n.useState)(""),t=Object(f.a)(a,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){E.a.database().ref("users").child(e).once("value").then((function(e){return console.log(e.value())})).catch((function(e){return{errorCode:e.code,errorMessage:e.message}})),E.a.database().ref("/users/"+e).once("value").then((function(e){console.log("objeto??? = > "+e.values),r(e.val().full_name),console.log("name?? ")}))}),[]),l.a.createElement("div",{className:"col-md-12"},"User ID ",e,"  ",c)},x=function(){var e=Object(n.useState)(""),a=Object(f.a)(e,2),t=(a[0],a[1]),c=Object(n.useState)(""),r=Object(f.a)(c,2),s=r[0],o=r[1],i=Object(n.useState)({}),m=Object(f.a)(i,2),u=m[0],b=m[1];Object(n.useEffect)((function(){E.a.database().ref().child("postagem").on("value",(function(e){null!=e.val()&&b(Object(d.a)({},e.val())),o(e.numChildren())}))}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{class:"col-sm-12 text-right"},l.a.createElement("h2",null,"N\xba Postagens: ",l.a.createElement("span",{class:"badge badge-secondary"},s))),Object.keys(u).map((function(e){return l.a.createElement("div",{class:"col-sm-6",key:e},l.a.createElement("div",{className:"card mb-3",key:e},l.a.createElement("div",{className:"card-body",key:e},l.a.createElement("h5",{className:"card-title"},u[e].titulo),l.a.createElement("p",{className:"card-text"},u[e].mensagem),l.a.createElement("p",{className:"card-text"},l.a.createElement("small",{className:"text-muted"},u[e].data)),l.a.createElement("a",{className:"btn btn-danger",onClick:function(){var a;a=e,window.confirm("Tem certeza que deseja excluir essa postagem?")&&E.a.database().ref().child("postagem/".concat(a)).remove((function(e){e?console.log(e):t("")}))}},"Excluir"))))})))},L=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).onChangeTitulo=function(e){n.setState({titulo:e.target.value})},n.onChangeData=function(e){n.setState({data:e.target.value})},n.onChangeMensagem=function(e){n.setState({mensagem:e.target.value})},n.onCreateMessage=function(e){E.a.database().ref().child("postagem").push({titulo:n.state.titulo,data:n.state.data,mensagem:n.state.mensagem}).catch((function(e){console.log(e)})),n.setState({titulo:"",data:"",mensagem:"",alert:!0}),e.preventDefault()},n.state={titulo:"",data:"",mensagem:"",alert:!1,loading:!1,messages:[],testList:[]},n}return Object(o.a)(t,[{key:"render",value:function(){var e=this.state.alert;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{class:"col-lg-12"},e?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"alert alert-info"},l.a.createElement("strong",null,"Info!")," This alert box could indicate a neutral informative change or action.")):"",l.a.createElement("form",{className:"form-row",onSubmit:this.onCreateMessage},l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"T\xedtulo:"),l.a.createElement("input",{type:"text",class:"form-control",placeholder:"T\xedtulo",id:"titulo",value:this.titulo,onChange:this.onChangeTitulo})),l.a.createElement("div",{className:"form-group col-md-6"},l.a.createElement("label",null,"Data:"),l.a.createElement("input",{type:"datetime-local",class:"form-control",id:"data",value:this.data,onChange:this.onChangeData})),l.a.createElement("div",{class:"form-group col-md-12"},l.a.createElement("label",null,"Mensagem:"),l.a.createElement("textarea",{class:"form-control",rows:"5",id:"mensagem",value:this.mensagem,onChange:this.onChangeMensagem})),l.a.createElement("div",{class:"form-group col-md-12"},l.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Cadastrar"))),l.a.createElement("br",null)),l.a.createElement(x,null))}}]),t}(n.Component),I=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(s.a)(this,t);var n=E.a.auth().currentUser;return null!=n&&(n.displayName,n.email,n.photoURL,n.emailVerified,n.uid),(e=a.call(this)).state={user:null},e.authListener=e.authListener.bind(Object(i.a)(e)),e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;E.a.auth().onAuthStateChanged((function(a){console.log(a),a?(e.setState({user:a}),localStorage.setItem("user",a.uid)):(e.setState({user:null}),localStorage.removeItem("user"))}))}},{key:"render",value:function(){var e;return e=E.a.auth().currentUser?l.a.createElement("nav",{class:"navbar navbar-expand-md bg-dark navbar-dark"},l.a.createElement("a",{class:"navbar-brand",href:"#"},"React + Firebase JoaoG"),l.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},l.a.createElement("span",{class:"navbar-toggler-icon"})),l.a.createElement("div",{class:"collapse navbar-collapse",id:"collapsibleNavbar"},l.a.createElement("ul",{class:"navbar-nav"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/"},"Home")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Perfil"},"Perfil")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Postagem"},"Criar Postagem")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Contatos1"},"Contatos Tutorial 1.0")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Lista"},"Contatos Tutorial Lista 1.0")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Contatos"},"Contatos Tutorial")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Sobre"},"Sobre"))))):l.a.createElement("nav",{class:"navbar navbar-expand-md bg-dark navbar-dark"},l.a.createElement("a",{class:"navbar-brand",href:"#"},"React + Firebase JoaoG"),l.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar"},l.a.createElement("span",{class:"navbar-toggler-icon"})),l.a.createElement("div",{class:"collapse navbar-collapse",id:"collapsibleNavbar"},l.a.createElement("ul",{class:"navbar-nav"},l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/"},"Home")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Contatos"},"Contatos Tutorial")),l.a.createElement("li",{class:"nav-item"},l.a.createElement("a",{class:"nav-link",href:"/Sobre"},"Sobre"))))),l.a.createElement("body",null,e,l.a.createElement("div",{className:"jumbotron text-center"},l.a.createElement("h1",null,"React + Firebase JoaoG"),l.a.createElement("p",null,"Site para testes e apredizado!")),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement(k.a,null,l.a.createElement(S.c,null,l.a.createElement(S.a,{path:"/Sobre"},l.a.createElement(O,null)),l.a.createElement(S.a,{path:"/Perfil"},l.a.createElement(C,null)),l.a.createElement(S.a,{path:"/Login"},l.a.createElement(j,null)),l.a.createElement(S.a,{path:"/Contatos"},l.a.createElement(g,null)),l.a.createElement(S.a,{path:"/Contatos1"},l.a.createElement(N,null)),l.a.createElement(S.a,{path:"/Lista"},l.a.createElement(y,null)),l.a.createElement(S.a,{path:"/Postagem"},l.a.createElement(L,null)),l.a.createElement(S.a,{path:"/User/:id"},l.a.createElement(w,null)),l.a.createElement(S.a,{path:"/"},l.a.createElement(j,null)))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.3a87b15d.chunk.js.map